<div class="page-title">
  <div class="row">
    <div class="col-xs-9"><h1>Clusters</h1></div>
    <div class="col-xs-3 main-button">
      <button type="button" class="btn btn-primary" (click)="editCluster()">Create New Cluster</button>
    </div>
  </div>
</div>

<!-- Filters -->

<div class="filters">
  <div class="row">

    <div class="col-xs-2">
      <div class="form-group">
        <input type="email" class="form-control" id="exampleInputEmail1" placeholder="Search by Name">
      </div>
    </div>

    <div class="col-xs-5"></div>

    <div class="col-xs-5">

      <div class="row">

        <div class="col-xs-6">
          <form class="form-horizontal">
            <div class="form-group">
              <label class="control-label">Group by:</label>
              <select class="form-control">
                <option>Playbook</option>
                <option>Price</option>
                <option>Money</option>
                <option>Sex</option>
                <option>Drugs</option>
              </select>
            </div>
          </form>
        </div>

        <div class="col-xs-6">
          <form class="form-horizontal">
            <div class="form-group">
              <label class="control-label">Sort by:</label>
              <select class="form-control">
                <option>Creation Date</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
              </select>
            </div>
          </form>
        </div>

      </div>
    </div>

  </div>
</div>

<!-- Filters -->

<div class="row" *ngIf="clusters && clusters.length">
  <div class="col-xs-12">

    <div class="table-help">
      <div class="col-xs-10">Cluster Name</div>
      <div class="col-xs-1">Error</div>
      <div class="col-xs-1">Servers</div>
    </div>

    <div class="box" *ngFor="let cluster of clusters">
      <div class="col-xs-10 name">
        {{cluster.data.name}}
        <a (click)="editCluster(cluster)">
          <span class="glyphicon edit-icon"></span>
        </a>
      </div>
      <div class="col-xs-1 parameter"><span class="text-danger">55</span></div>
      <div class="col-xs-1 parameter">99900</div>
    </div>
  </div>
</div>

<loader *ngIf="!clusters"></loader>

<div *ngIf="clusters && !clusters.length" class="no-clusters">
  You don't have any clusters yet. Please create.
</div>


<modal [title]="newCluster.id ? 'Edit Cluster' : 'Create New Cluster'">
  <div class="modal-body">
    <div class="alert alert-danger" role="alert" *ngIf="error">
      {{error}}
    </div>
    <form #newClusterForm="ngForm">
      <div class="form-group">
        <label for="cluster_name">Cluster Name</label>
        <input
          type="text"
          class="form-control"
          name="cluster_name"
          id="cluster_name"
          placeholder="Name"
          [(ngModel)]="newCluster.data.name"
          required>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button class="btn btn-default" (click)="modal.close()">Cancel</button>
    <button
      class="btn btn-primary"
      (click)="save()"
      [disabled]="!newClusterForm.form.valid">Save changes</button>
  </div>
</modal>